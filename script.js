// ===== FADE-UP ON SCROLL =====
const fadeEls = document.querySelectorAll(".fade-up");
function fadeUpOnScroll() {
  fadeEls.forEach(el => {
    const rect = el.getBoundingClientRect();
    if (rect.top < window.innerHeight - 100) el.classList.add("show");
  });
}
window.addEventListener("scroll", fadeUpOnScroll);
window.addEventListener("load", fadeUpOnScroll);

// ===== MENU TOGGLE =====
const menuToggle = document.getElementById("menuToggle");
const navMenu = document.getElementById("navMenu");
if (menuToggle) {
  menuToggle.addEventListener("click", () => {
    navMenu.classList.toggle("show");
  });
}

// ===== SLIDESHOW =====
let slideIndex = 0;
function showSlides() {
  let slides = document.getElementsByClassName("slide");
  for (let i = 0; i < slides.length; i++) slides[i].style.display = "none";
  slideIndex++;
  if (slideIndex > slides.length) slideIndex = 1;
  if (slides[slideIndex - 1]) slides[slideIndex - 1].style.display = "block";
  setTimeout(showSlides, 2500);
}
window.addEventListener("load", showSlides);

// ===== ENVELOPE ANIMATION =====
const envelope = document.getElementById("envelope");
const openMain = document.getElementById("openMain");
const popup = document.getElementById("envelopePopup");
const sound = document.getElementById("paperSound");

window.addEventListener("load", () => {
  if (envelope) {
    setTimeout(() => {
      envelope.classList.add("open");
      sound.play();
    }, 500);
  }
});

if (openMain) {
  openMain.addEventListener("click", () => {
    envelope.classList.remove("open");
    envelope.classList.add("close");
    setTimeout(() => (popup.style.opacity = "0"), 800);
    setTimeout(() => (popup.style.display = "none"), 1800);
  });
}

// ===== 100 REASONS DATA =====
const reasons = [
  "1. เค้ารักที่บี๋ mature มาก ทำให้เค้ารู้สึกถอดสมองเวลาอยู่ด้วยได้",
  "2. เค้าทึ่งที่บี๋รู้ทุกเรื่อง ถามอะไรบี๋ก็รู้",
  "3. บี๋เป็นคนที่เค้าสามารถปรึกษาปัญหาได้เสมอ",
  "4. เค้าเชื่อมั่นในทุกการตัดสินใจของบี๋",
  "5. บี๋ทำให้เค้ารู้สึกว่าชีวิตนี้ง่ายขึ้นมาก",
  "6. บี๋ทำให้เค้าอยากเป็นคนที่มีวุฒิภาวะมากขึ้น",
  "7. เค้ารักในวิสัยทัศน์และการมองโลกของบี๋",
  "8. บี๋เป็นคนที่มีความรับผิดชอบในทุกด้านของชีวิต",
  "9. บี๋สอนให้เค้ารู้จักคิดอย่างมีเหตุผล",
  "10. บี๋ทำให้เค้าไม่รู้สึกกังวลเรื่องอนาคต",

  "11. เค้ารักที่บี๋ยอมเสียเวลาขับรถมารับมาส่งเค้าถึงรังสิต",
  "12. ทุกครั้งที่บี๋มารับมาส่ง มันทำให้เค้ารู้สึกพิเศษที่สุด",
  "13. บี๋ดูแลเค้าดีมากเสมอต้นเสมอปลาย",
  "14. บี๋รู้ว่าเค้าต้องการอะไรก่อนที่เค้าจะพูดออกมา",
  "15. บี๋ไม่เคยละเลยเค้าเลย",
  "16. บี๋จะคอยถามไถ่ว่าเค้าเป็นยังไงบ้างตลอดเวลา",
  "17. บี๋ทำอาหาร/เตรียมน้ำ/ทำสิ่งเล็กๆให้เค้าเสมอ",
  "18. บี๋ให้กำลังใจเค้าในวันที่เค้ารู้สึกท้อแท้",
  "19. บี๋ไม่เคยปล่อยให้เค้าเผชิญปัญหาคนเดียว",
  "20. บี๋ทำให้เค้ารู้สึกเป็นที่รักและสำคัญที่สุดในโลก",
  "21. บี๋เป็นที่พักพิงที่เค้าอยากกลับไปหาเสมอ",
  "22. บี๋จำรายละเอียดเล็กๆน้อยๆของเค้าได้หมด",
  "23. บี๋ปกป้องเค้าจากเรื่องแย่ๆได้ทุกครั้ง",
  "24. บี๋ทำให้เค้าสบายใจที่จะเป็นตัวของตัวเอง",
  "25. บี๋ไม่เคยตัดสินเค้าเลย",

  "26. เค้ารักที่บี๋เป็นคนตลกมาก",
  "27. บี๋ทำให้ทุกสถานการณ์ไม่น่าเบื่อ",
  "28. เค้ารักเวลาที่บี๋พยายามเล่าเรื่องตลกให้เค้าฟัง",
  "29. บี๋มีรอยยิ้มและเสียงหัวเราะที่ทำให้เค้ามีความสุขตาม",
  "30. เค้ารักที่บี๋ชอบส่งมีมหรือคลิปตลกๆมาให้เค้า",
  "31. บี๋ทำให้วันแย่ๆของเค้ากลายเป็นวันที่ดีขึ้นได้เสมอ",
  "32. บี๋ทำให้เค้ารู้สึกเหมือนมีเพื่อนสนิทที่สุดอยู่ข้างๆ",
  "33. เค้ารักที่บี๋ไม่กลัวที่จะทำตัวบ้าๆบอๆกับเค้า",
  "34. บี๋ทำให้เค้ารู้ว่าความสุขหาได้ง่ายๆในทุกวัน",
  "35. เค้ารักเวลาที่บี๋หัวเราะจนตาหยี",

  "36. เค้ารักที่บี๋เป็นคนชอบกอด",
  "37. ทุกครั้งที่บี๋กอด มันทำให้เค้าอบอุ่นและรู้สึกปลอดภัย",
  "38. เค้ารักเวลาที่บี๋เข้ามาจุ้บเบาๆโดยไม่มีเหตุผล",
  "39. การจุ้บของบี๋เป็นเหมือนกำลังใจให้เค้ามีพลัง",
  "40. เค้ารักที่มือของบี๋จับมือเค้าอย่างมั่นคงเสมอ",
  "41. บี๋ชอบลูบหัวหรือกอดเค้าเวลาที่เค้าเหนื่อย",
  "42. เค้ารักที่บี๋กอดเค้าแน่นๆก่อนนอน",
  "43. เค้ารักทุกสัมผัสที่บี๋มีให้ ไม่ว่าจะเล็กน้อยแค่ไหน",
  "44. บี๋ทำให้เค้ารู้สึกว่าเค้าเป็นคนเดียวที่บี๋รัก",
  "45. เค้ารักที่บี๋ชอบมองหน้าเค้าแบบไม่ให้รู้ตัว",
  "46. เค้ารักเวลาที่เราได้ซบกันดูหนัง",
  "47. บี๋ไม่เคยเขินที่จะแสดงความรักต่อหน้าคนอื่น",
  "48. เค้ารักที่บี๋จูบหน้าผากเค้าเป็นการบอกรัก",
  "49. บี๋ทำให้เค้ารู้สึกสวยและเป็นที่ต้องการเสมอ",
  "50. เค้ารักกลิ่นตัวของบี๋ที่จำได้แม่น",

  "51. เค้ารักที่ทุกครั้งที่เราทะเลาะกัน มันจบด้วยดี",
  "52. บี๋เป็นคนที่ประนีประนอมและรู้จักให้อภัย",
  "53. เค้ารักที่หลังจากการทะเลาะกัน เราจะรักกันมากขึ้น",
  "54. เราเข้าใจกันมากขึ้นทุกครั้งที่ผ่านความขัดแย้ง",
  "55. บี๋สอนให้เค้าควบคุมอารมณ์และรู้จักการให้อภัย",
  "56. บี๋ทำให้เค้ารู้ว่าการทะเลาะกันคือการเรียนรู้ร่วมกัน",
  "57. บี๋ไม่เคยปล่อยให้ปัญหาค้างคาข้ามวัน",
  "58. บี๋ยอมลดทิฐิเพื่อรักษาความสัมพันธ์ของเรา",
  "59. บี๋เป็นคนแรกที่พยายามทำความเข้าใจเค้า",
  "60. บี๋ทำให้เค้ารู้ว่าเราคือทีมเดียวกันเสมอ",

  "61. เค้ารักเวลาที่บี๋ตั้งใจทำอะไรสักอย่าง",
  "62. บี๋ทำให้เค้ารู้สึกถึงความสงบและมั่นคง",
  "63. เค้ารักในรอยยิ้มของบี๋ที่สดใสทุกเช้า",
  "64. เค้ารักที่บี๋ทำให้เค้ารู้สึกปลอดภัยเสมอ",
  "65. บี๋เป็นคนที่เค้าภูมิใจที่จะแนะนำให้ใครรู้จัก",
  "66. เค้ารักเสียงหัวเราะที่เป็นเอกลักษณ์ของบี๋",
  "67. บี๋ทำให้เค้าอยากตื่นมาเจอทุกเช้า",
  "68. เค้ารักที่บี๋ชอบร้องเพลงแม้จะร้องไม่เก่ง",
  "69. บี๋ยอมดูสิ่งที่เค้าชอบด้วยกัน",
  "70. บี๋ทำให้เค้ารู้สึกโชคดีที่สุดในโลก",
  "71. เค้ารักวิธีที่บี๋พูดชื่อเค้า",
  "72. บี๋เป็นคนที่เค้าไว้ใจได้ 100%",
  "73. บี๋ไม่เคยทำให้เค้ารู้สึกเบื่อ",
  "74. เค้ารักที่บี๋ดูแลครอบครัวและเพื่อนอย่างดี",
  "75. บี๋เป็นแรงผลักดันให้เค้าทำตามความฝัน",
  "76. เค้ารักเวลาที่บี๋เพิ่งตื่นแล้วยังงัวเงีย",
  "77. บี๋เป็นคนที่เค้าอยากใช้เวลาอยู่ด้วยตลอดไป",
  "78. เค้ารักที่บี๋ชอบทำเซอร์ไพรส์เล็กๆให้",
  "79. บี๋อ่อนโยนแต่เข้มแข็งในเวลาเดียวกัน",
  "80. เค้ารักที่บี๋ยอมรับข้อบกพร่องของเค้าได้ทุกอย่าง",
  "81. บี๋ทำให้เค้ารู้สึกถึงพลังบวกตลอดเวลา",
  "82. บี๋เป็นคนที่ทำให้เค้ารักตัวเองมากขึ้น",
  "83. บี๋สอนให้เค้ารู้จักปล่อยวาง",
  "84. เค้ารักเวลาที่เราได้นั่งเงียบๆข้างกัน",
  "85. บี๋ชอบฟังเพลงกับเค้า",
  "86. บี๋ทำให้เค้ารู้ว่าความรักแท้เป็นยังไง",
  "87. บี๋ทำให้เค้ารู้สึกเหมือนเด็กอีกครั้ง",
  "88. เค้ารักที่บี๋คอยจัดการเรื่องวุ่นวายแทนเค้า",
  "89. บี๋ทำให้เค้ารู้ว่าเราเป็นอนาคตของกันและกัน",
  "90. บี๋เป็นทั้งคนรัก เพื่อน และครอบครัวของเค้า",
  "91. เค้ารักที่บี๋ทำให้ทุกวันของเค้ามีความหมาย",
  "92. บี๋มีเสน่ห์ดึงดูดใจอย่างเป็นธรรมชาติ",
  "93. เค้ารักในรอยยิ้มมุมปากของบี๋",
  "94. บี๋ช่วยเค้าจัดระเบียบความคิด",
  "95. เค้ารักที่บี๋เห็นแก่ความสุขของเค้ามากกว่าตัวเอง",
  "96. บี๋เข้าใจเค้าได้ดีที่สุดในโลก",
  "97. บี๋ไม่เคยทำให้เค้าต้องสงสัยในความรักเลย",
  "98. บี๋คือความสุขเล็กๆที่ยิ่งใหญ่ของเค้า",
  "99. เค้ารักที่บี๋รักเค้า",
  "100. เพราะบี๋คือทุกสิ่งทุกอย่างของเค้า"
];

// ===== DISPLAY 100 REASONS =====
const reasonList = document.getElementById("reasonList");
const pageInfo = document.getElementById("pageInfo");
if (reasonList) {
  let currentPage = 0;
  const perPage = 20;

  function renderReasons() {
    reasonList.classList.remove("show");
    setTimeout(() => {
      reasonList.innerHTML = "";
      const start = currentPage * perPage;
      const end = Math.min(start + perPage, reasons.length);
      for (let i = start; i < end; i++) {
        const li = document.createElement("li");
        li.textContent = reasons[i];
        li.classList.add("fade-up");
        reasonList.appendChild(li);
      }
      fadeUpOnScroll();
      reasonList.classList.add("show");
      updatePageInfo();
    }, 200);
  }

  function updatePageInfo() {
    if (pageInfo) {
      const totalPages = Math.ceil(reasons.length / perPage);
      pageInfo.textContent = `Page ${currentPage + 1} / ${totalPages}`;
    }
  }

  const nextBtn = document.getElementById("nextBtn");
  const prevBtn = document.getElementById("prevBtn");

  if (nextBtn) nextBtn.onclick = () => {
    if ((currentPage + 1) * perPage < reasons.length) {
      currentPage++;
      renderReasons();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  };

  if (prevBtn) prevBtn.onclick = () => {
    if (currentPage > 0) {
      currentPage--;
      renderReasons();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  };

  renderReasons();
}